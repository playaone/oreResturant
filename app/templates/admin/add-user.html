{% extends "layout.html" %}
{% block content %}
    <div class="container-xxl">
        <div class="row align-items-center">
            <div class="border-0 mb-4">
                <div class="card-header py-3 no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap">
                    <h3 class="fw-bold mb-0">Add User</h3>
                    <div class="col-auto d-flex w-sm-100">
                        <a href="{{ url_for('admin.users') }}" class="btn btn-primary w-sm-100"><i class="icofont-plus-circle me-2 fs-6"></i>Back To Users</a>
                    </div>
                </div>
            </div>
        </div> <!-- Row end  -->
        <div class="row clearfix g-3">
            <!-- Form -->
            <form class="row g-1 p-3 p-md-4" action='#' method='POST'>
                {{ form.hidden_tag() }}
                <div class="col-6">
                    <div class="mb-2">
                        {{ form.firstname.label(class='form-label') }}

                        {% if form.firstname.errors %}
                            {{ form.firstname(class='form-control form-control-lg is-invalid', value=form.firstname.data) }}
                            <div class="invalid-feedback">
                                {% for error in form.firstname.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.firstname(class='form-control form-control-lg') }}
                        {% endif %}
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-2">
                        {{ form.lastname.label(class='form-label') }}

                        {% if form.lastname.errors %}
                            {{ form.lastname(class='form-control form-control-lg is-invalid', value=form.lastname.data) }}
                            <div class="invalid-feedback">
                                {% for error in form.lastname.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.lastname(class='form-control form-control-lg') }}
                        {% endif %}
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-2">
                        {{ form.username.label(class='form-label') }}

                        {% if form.username.errors %}
                            {{ form.username(class='form-control form-control-lg is-invalid', value=form.username.data) }}
                            <div class="invalid-feedback">
                                {% for error in form.username.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.username(class='form-control form-control-lg') }}
                        {% endif %}
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-2">
                        {{ form.type.label(class='form-label') }}

                        {% if form.type.errors %}
                            {{ form.type(class='form-select form-control-lg is-invalid', value=form.type.data) }}
                            <div class="invalid-feedback">
                                {% for error in form.type.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.type(class='form-select form-control-lg') }}
                        {% endif %}
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-2">
                        {{ form.email.label(class='form-label') }}

                        {% if form.email.errors %}
                            {{ form.email(class='form-control form-control-lg is-invalid', value=form.email.data) }}
                            <div class="invalid-feedback">
                                {% for error in form.email.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.email(class='form-control form-control-lg') }}
                        {% endif %}
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-2">
                        {{ form.phone.label(class='form-label') }}

                        {% if form.phone.errors %}
                            {{ form.phone(class='form-control form-control-lg is-invalid', value=form.phone.data) }}
                            <div class="invalid-feedback">
                                {% for error in form.phone.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.phone(class='form-control form-control-lg') }}
                        {% endif %}
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-2">
                        {{ form.password.label(class='form-label') }}

                        {% if form.password.errors %}
                            {{ form.password(class='form-control form-control-lg is-invalid', value=form.password.data) }}
                            <div class="invalid-feedback">
                                {% for error in form.password.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.password(class='form-control form-control-lg') }}
                        {% endif %}
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-2">
                        {{ form.confirm_password.label(class='form-label') }}

                        {% if form.confirm_password.errors %}
                            {{ form.confirm_password(class='form-control form-control-lg is-invalid', value=form.confirm_password.data) }}
                            <div class="invalid-feedback">
                                {% for error in form.confirm_password.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.confirm_password(class='form-control form-control-lg') }}
                        {% endif %}
                    </div>
                </div>
                <!-- <div class="col-12">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                        <label class="form-check-label" for="flexCheckDefault">
                            I accept the <a href="#" title="Terms and Conditions" class="text-secondary">Terms and Conditions</a>
                        </label>
                    </div>
                </div> -->
                <div class="col-12 text-center mt-4">
                    {{ form.submit(class='btn col-5 btn-block btn-success lift text-uppercase') }}
                </div>
            </form>
            <!-- End Form -->
        </div><!-- Row End -->
    </div>
{% endblock content %}

{% block scripts %}

    
    <!-- Jquery Core Js -->
    <script src="{{ url_for('static', filename='bundles/libscripts.bundle.js')}}"></script>

    <!-- Plugin Js-->
    <script src="{{ url_for('static', filename='bundles/dataTables.bundle.js')}}"></script>

    <!-- Jquery Page Js -->
    <script src="{{ url_for('static', filename='js/template.js')}}"></script>
    <script>
        // project data table
        $(document).ready(function() {
            $('#myProjectTable')
            .addClass( 'nowrap' )
            .dataTable( {
                responsive: true,
                columnDefs: [
                    { targets: [-1, -3], className: 'dt-body-right' }
                ]
            });
            $('.deleterow').on('click',function(){
            var tablename = $(this).closest('table').DataTable();  
            tablename
                    .row( $(this)
                    .parents('tr') )
                    .remove()
                    .draw();

            } );
        });
    </script>
{% endblock scripts %}